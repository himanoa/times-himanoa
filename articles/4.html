<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>日報</title><meta name="next-head-count" content="3"/><link rel="preload" href="/times-himanoa/_next/static/css/8719bfce30da1583.css" as="style"/><link rel="stylesheet" href="/times-himanoa/_next/static/css/8719bfce30da1583.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/times-himanoa/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/times-himanoa/_next/static/chunks/webpack-c91d1c6f4cad1eba.js" defer=""></script><script src="/times-himanoa/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/times-himanoa/_next/static/chunks/main-f49c7ee0588b72e8.js" defer=""></script><script src="/times-himanoa/_next/static/chunks/pages/_app-e2b6539287bb6dd7.js" defer=""></script><script src="/times-himanoa/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/times-himanoa/_next/static/chunks/pages/articles/%5BissueNumber%5D-3c67cfffe8cb1cb2.js" defer=""></script><script src="/times-himanoa/_next/static/SFGyqIodbvgnQ6VR21ThY/_buildManifest.js" defer=""></script><script src="/times-himanoa/_next/static/SFGyqIodbvgnQ6VR21ThY/_ssgManifest.js" defer=""></script><script src="/times-himanoa/_next/static/SFGyqIodbvgnQ6VR21ThY/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><header><nav><p><a href="/times-himanoa">#times-himanoa</a></p></nav></header><main><article><section><header><time dateTime="2022-05-09T00:30:17Z" title="2022-05-09T00:30:17Z">2022-05-09</time><h1>日報</h1></header><aside><p>Posted by <!-- --><a href="https://github.com/himanoa">himanoa</a> at <!-- --><a href="https://github.com/himanoa/times-himanoa/issues/4">#4</a>.<!-- --></p></aside><div></div></section><article><section><header><time dateTime="2022-05-09T00:43:31Z" title="2022-05-09T00:43:31Z">2022-05-09</time></header><div><p>今まで作業中は常に無音で作業していたが、GW中に作業配信を見ながら作業していたら何かしら雑音がないと集中できない体になってしまった。</p>
<p>とはいえ曲を選択するほど労力をかけたいとおもっていなくて、ページを開いたらいい感じのBGMが流れるサイト君がほしい</p></div></section></article><article><section><header><time dateTime="2022-05-09T00:45:54Z" title="2022-05-09T00:45:54Z">2022-05-09</time></header><div><p>今日はとりあえずこれを流すことにした
<a href="https://soundcloud.com/masaya-satou-877313282/sets/cyjda5052c7u?utm_source=clipboard&#x26;utm_medium=text&#x26;utm_campaign=social_sharing">https://soundcloud.com/masaya-satou-877313282/sets/cyjda5052c7u?utm_source=clipboard&#x26;utm_medium=text&#x26;utm_campaign=social_sharing</a></p></div></section></article><article><section><header><time dateTime="2022-05-09T01:18:19Z" title="2022-05-09T01:18:19Z">2022-05-09</time></header><div><p>Slcakのthread、閉じるという概念がないから議論が散見したまま収束しないことがおおいのと、threadsがばんばん飛んでくるとThreadsの順番が変わりまくって使い物にならないのなんとかなってほしい</p>
<p>2ch専ブラはタブでthreadを管理できていて、Slackよりも人間にやさしい設計になっているように思える</p></div></section></article><article><section><header><time dateTime="2022-05-09T01:59:06Z" title="2022-05-09T01:59:06Z">2022-05-09</time></header><div><p>テキストエディタでファイルを選択するのに <a href="https://github.com/junegunn/fzf.vim">https://github.com/junegunn/fzf.vim</a> を使っていて、補完候補を絞るために開いているファイルと同じ階層から絞る実装を作ってよく使っているのだが、親ディレクトリに巡りたくなった時にかなり不便なことに気づいた。</p>
<p>FuzzyFIndでファイルを探すのは便利だが既にどこにあるかわかっているファイルを開くにはちょっと自由度が足りない気がするので、ここらへんを上手く解決するアプローチを考えたいなーーって思うなどをした。</p>
<p>ちなみにTreeでファイルを選ぶやつはあんまり肌に合わなかったんで早急に除外した</p></div></section></article><article><section><header><time dateTime="2022-05-09T02:03:23Z" title="2022-05-09T02:03:23Z">2022-05-09</time></header><div><p>FuzzyFinderはパスの構造が長いと補完候補のどのファイルが自分が開きたいファイルかよくわからんことになる問題がある</p></div></section></article><article><section><header><time dateTime="2022-05-09T05:24:48Z" title="2022-05-09T05:24:48Z">2022-05-09</time></header><div><p>どうでもいいのだが、自分の考えをまとめるために文章を書く(ex: <a href="https://github.com/himanoa/times-himanoa/issues/5">#5</a> ) と だ である みたいな文章になるけど、気持ちのどこかに他人のために っていう考えが入ると途端に ですます と混ざる癖が僕にあるな</p></div></section></article><article><section><header><time dateTime="2022-05-09T07:41:16Z" title="2022-05-09T07:41:16Z">2022-05-09</time></header><div><h2>TSとResult型</h2>
<p><a href="https://github.com/vultix/ts-results">ts-results</a> みたいな概念を使用してフロントエンドのコードを書いている時に、ハンドリングしてもどうしようもない <code>throw new Error("")</code>  の扱いにかなり困っていた。</p>
<p>これらをハンドリングしても結局なんもできないがUIスレッドを止めたくないので、せめてts-resultsの型で返してほしい みたいなことがそれなりにある。</p>
<p>この問題を解決するために僕は いままで次のようなコードを毎回書いていた。</p>
<pre><code class="language-typescript">type UserError = { kind: 'notFound' } | { kind: 'unknownError', e: unknown}

const fetchUserProfile = async (id: UserId): Promise&#x3C;Result&#x3C;User, UserError>> => {
  try {
    ....
  } catch(e) }
   return Err({kind: 'unknownError', e});
  }
}
</code></pre>
<p>が、毎回 <code>try-catch</code> で囲むのも面倒なので <code>unsafe(() => { 例外をthrowしうる君})</code> みたいな感じでラップできるようにするのを作るといいかもなって思った</p></div></section></article><article><section><header><time dateTime="2022-05-09T07:55:52Z" title="2022-05-09T07:55:52Z">2022-05-09</time></header><div><h2>日報</h2>
<p>日付入力するの面倒で適当にIssue切ってだらだら書いてたけど、明日からはこっちを使おう <a href="https://github.com/r7kamura/gh-diary">https://github.com/r7kamura/gh-diary</a></p></div></section></article><article><section><header><time dateTime="2022-05-09T08:11:15Z" title="2022-05-09T08:11:15Z">2022-05-09</time></header><div><p>あんまこういうことを書くのはよくないが、家の隣がそこそこおおきい田圃になっていて、この時期になると風で稲が波みたいになっててとても目の保養になる。</p></div></section></article><article><section><header><time dateTime="2022-05-09T09:05:57Z" title="2022-05-09T09:05:57Z">2022-05-09</time></header><div><p>最小の構成を成すものを一つにまとめる時に、「最小の構造」を崩してはならない</p></div></section></article></article></main><footer><nav><ul><li><a href="/times-himanoa">Home</a></li></ul></nav></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4/comments","created_at":"2022-05-09T00:30:17Z","events_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4/events","html_url":"https://github.com/himanoa/times-himanoa/issues/4","id":1229031833,"labels":[],"labels_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHTMZ985JQYmZ","number":4,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4/reactions"},"repository_url":"https://api.github.com/repos/himanoa/times-himanoa","state":"open","timeline_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4/timeline","title":"日報","updated_at":"2022-05-09T00:30:17Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},"issueComments":[{"body":"今まで作業中は常に無音で作業していたが、GW中に作業配信を見ながら作業していたら何かしら雑音がないと集中できない体になってしまった。\r\n\r\nとはいえ曲を選択するほど労力をかけたいとおもっていなくて、ページを開いたらいい感じのBGMが流れるサイト君がほしい","bodyHTML":"\u003cp\u003e今まで作業中は常に無音で作業していたが、GW中に作業配信を見ながら作業していたら何かしら雑音がないと集中できない体になってしまった。\u003c/p\u003e\n\u003cp\u003eとはいえ曲を選択するほど労力をかけたいとおもっていなくて、ページを開いたらいい感じのBGMが流れるサイト君がほしい\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T00:43:31Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120523017","id":1120523017,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985CydMJ","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120523017/reactions"},"updated_at":"2022-05-09T00:43:31Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120523017","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"今日はとりあえずこれを流すことにした\r\nhttps://soundcloud.com/masaya-satou-877313282/sets/cyjda5052c7u?utm_source=clipboard\u0026utm_medium=text\u0026utm_campaign=social_sharing","bodyHTML":"\u003cp\u003e今日はとりあえずこれを流すことにした\r\n\u003ca href=\"https://soundcloud.com/masaya-satou-877313282/sets/cyjda5052c7u?utm_source=clipboard\u0026#x26;utm_medium=text\u0026#x26;utm_campaign=social_sharing\"\u003ehttps://soundcloud.com/masaya-satou-877313282/sets/cyjda5052c7u?utm_source=clipboard\u0026#x26;utm_medium=text\u0026#x26;utm_campaign=social_sharing\u003c/a\u003e\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T00:45:54Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120523717","id":1120523717,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985CydXF","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120523717/reactions"},"updated_at":"2022-05-09T00:45:54Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120523717","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"Slcakのthread、閉じるという概念がないから議論が散見したまま収束しないことがおおいのと、threadsがばんばん飛んでくるとThreadsの順番が変わりまくって使い物にならないのなんとかなってほしい\r\n\r\n\r\n2ch専ブラはタブでthreadを管理できていて、Slackよりも人間にやさしい設計になっているように思える","bodyHTML":"\u003cp\u003eSlcakのthread、閉じるという概念がないから議論が散見したまま収束しないことがおおいのと、threadsがばんばん飛んでくるとThreadsの順番が変わりまくって使い物にならないのなんとかなってほしい\u003c/p\u003e\n\u003cp\u003e2ch専ブラはタブでthreadを管理できていて、Slackよりも人間にやさしい設計になっているように思える\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T01:18:19Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120534591","id":1120534591,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985CygA_","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120534591/reactions"},"updated_at":"2022-05-09T01:18:19Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120534591","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"テキストエディタでファイルを選択するのに https://github.com/junegunn/fzf.vim を使っていて、補完候補を絞るために開いているファイルと同じ階層から絞る実装を作ってよく使っているのだが、親ディレクトリに巡りたくなった時にかなり不便なことに気づいた。\r\n\r\nFuzzyFIndでファイルを探すのは便利だが既にどこにあるかわかっているファイルを開くにはちょっと自由度が足りない気がするので、ここらへんを上手く解決するアプローチを考えたいなーーって思うなどをした。\r\n\r\nちなみにTreeでファイルを選ぶやつはあんまり肌に合わなかったんで早急に除外した","bodyHTML":"\u003cp\u003eテキストエディタでファイルを選択するのに \u003ca href=\"https://github.com/junegunn/fzf.vim\"\u003ehttps://github.com/junegunn/fzf.vim\u003c/a\u003e を使っていて、補完候補を絞るために開いているファイルと同じ階層から絞る実装を作ってよく使っているのだが、親ディレクトリに巡りたくなった時にかなり不便なことに気づいた。\u003c/p\u003e\n\u003cp\u003eFuzzyFIndでファイルを探すのは便利だが既にどこにあるかわかっているファイルを開くにはちょっと自由度が足りない気がするので、ここらへんを上手く解決するアプローチを考えたいなーーって思うなどをした。\u003c/p\u003e\n\u003cp\u003eちなみにTreeでファイルを選ぶやつはあんまり肌に合わなかったんで早急に除外した\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T01:59:06Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120553864","id":1120553864,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985CykuI","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120553864/reactions"},"updated_at":"2022-05-09T01:59:06Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120553864","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"FuzzyFinderはパスの構造が長いと補完候補のどのファイルが自分が開きたいファイルかよくわからんことになる問題がある","bodyHTML":"\u003cp\u003eFuzzyFinderはパスの構造が長いと補完候補のどのファイルが自分が開きたいファイルかよくわからんことになる問題がある\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T02:03:23Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120556205","id":1120556205,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985CylSt","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120556205/reactions"},"updated_at":"2022-05-09T02:03:23Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120556205","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"どうでもいいのだが、自分の考えをまとめるために文章を書く(ex: #5 ) と だ である みたいな文章になるけど、気持ちのどこかに他人のために っていう考えが入ると途端に ですます と混ざる癖が僕にあるな","bodyHTML":"\u003cp\u003eどうでもいいのだが、自分の考えをまとめるために文章を書く(ex: \u003ca href=\"https://github.com/himanoa/times-himanoa/issues/5\"\u003e#5\u003c/a\u003e ) と だ である みたいな文章になるけど、気持ちのどこかに他人のために っていう考えが入ると途端に ですます と混ざる癖が僕にあるな\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T05:24:48Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120656435","id":1120656435,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985Cy9wz","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120656435/reactions"},"updated_at":"2022-05-09T05:24:48Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120656435","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"## TSとResult型\r\n\r\n[ts-results](https://github.com/vultix/ts-results) みたいな概念を使用してフロントエンドのコードを書いている時に、ハンドリングしてもどうしようもない `throw new Error(\"\")`  の扱いにかなり困っていた。\r\n\r\nこれらをハンドリングしても結局なんもできないがUIスレッドを止めたくないので、せめてts-resultsの型で返してほしい みたいなことがそれなりにある。\r\n\r\nこの問題を解決するために僕は いままで次のようなコードを毎回書いていた。\r\n\r\n```typescript\r\ntype UserError = { kind: 'notFound' } | { kind: 'unknownError', e: unknown}\r\n\r\nconst fetchUserProfile = async (id: UserId): Promise\u003cResult\u003cUser, UserError\u003e\u003e =\u003e {\r\n  try {\r\n    ....\r\n  } catch(e) }\r\n   return Err({kind: 'unknownError', e});\r\n  }\r\n}\r\n```\r\n\r\nが、毎回 `try-catch` で囲むのも面倒なので `unsafe(() =\u003e { 例外をthrowしうる君})` みたいな感じでラップできるようにするのを作るといいかもなって思った","bodyHTML":"\u003ch2\u003eTSとResult型\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/vultix/ts-results\"\u003ets-results\u003c/a\u003e みたいな概念を使用してフロントエンドのコードを書いている時に、ハンドリングしてもどうしようもない \u003ccode\u003ethrow new Error(\"\")\u003c/code\u003e  の扱いにかなり困っていた。\u003c/p\u003e\n\u003cp\u003eこれらをハンドリングしても結局なんもできないがUIスレッドを止めたくないので、せめてts-resultsの型で返してほしい みたいなことがそれなりにある。\u003c/p\u003e\n\u003cp\u003eこの問題を解決するために僕は いままで次のようなコードを毎回書いていた。\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-typescript\"\u003etype UserError = { kind: 'notFound' } | { kind: 'unknownError', e: unknown}\r\n\r\nconst fetchUserProfile = async (id: UserId): Promise\u0026#x3C;Result\u0026#x3C;User, UserError\u003e\u003e =\u003e {\r\n  try {\r\n    ....\r\n  } catch(e) }\r\n   return Err({kind: 'unknownError', e});\r\n  }\r\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eが、毎回 \u003ccode\u003etry-catch\u003c/code\u003e で囲むのも面倒なので \u003ccode\u003eunsafe(() =\u003e { 例外をthrowしうる君})\u003c/code\u003e みたいな感じでラップできるようにするのを作るといいかもなって思った\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T07:41:16Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120754262","id":1120754262,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985CzVpW","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120754262/reactions"},"updated_at":"2022-05-09T07:41:16Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120754262","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"## 日報\r\n\r\n日付入力するの面倒で適当にIssue切ってだらだら書いてたけど、明日からはこっちを使おう https://github.com/r7kamura/gh-diary","bodyHTML":"\u003ch2\u003e日報\u003c/h2\u003e\n\u003cp\u003e日付入力するの面倒で適当にIssue切ってだらだら書いてたけど、明日からはこっちを使おう \u003ca href=\"https://github.com/r7kamura/gh-diary\"\u003ehttps://github.com/r7kamura/gh-diary\u003c/a\u003e\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T07:55:52Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120767018","id":1120767018,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985CzYwq","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120767018/reactions"},"updated_at":"2022-05-09T07:55:52Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120767018","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"あんまこういうことを書くのはよくないが、家の隣がそこそこおおきい田圃になっていて、この時期になると風で稲が波みたいになっててとても目の保養になる。","bodyHTML":"\u003cp\u003eあんまこういうことを書くのはよくないが、家の隣がそこそこおおきい田圃になっていて、この時期になると風で稲が波みたいになっててとても目の保養になる。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T08:11:15Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120782963","id":1120782963,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985Czcpz","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120782963/reactions"},"updated_at":"2022-05-09T08:11:15Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120782963","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}},{"body":"最小の構成を成すものを一つにまとめる時に、「最小の構造」を崩してはならない","bodyHTML":"\u003cp\u003e最小の構成を成すものを一つにまとめる時に、「最小の構造」を崩してはならない\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-09T09:05:57Z","html_url":"https://github.com/himanoa/times-himanoa/issues/4#issuecomment-1120841306","id":1120841306,"issue_url":"https://api.github.com/repos/himanoa/times-himanoa/issues/4","node_id":"IC_kwDOHTMZ985Czq5a","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120841306/reactions"},"updated_at":"2022-05-09T09:05:57Z","url":"https://api.github.com/repos/himanoa/times-himanoa/issues/comments/1120841306","user":{"avatar_url":"https://avatars.githubusercontent.com/u/18651963?v=4","events_url":"https://api.github.com/users/himanoa/events{/privacy}","followers_url":"https://api.github.com/users/himanoa/followers","following_url":"https://api.github.com/users/himanoa/following{/other_user}","gists_url":"https://api.github.com/users/himanoa/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/himanoa","id":18651963,"login":"himanoa","node_id":"MDQ6VXNlcjE4NjUxOTYz","organizations_url":"https://api.github.com/users/himanoa/orgs","received_events_url":"https://api.github.com/users/himanoa/received_events","repos_url":"https://api.github.com/users/himanoa/repos","site_admin":false,"starred_url":"https://api.github.com/users/himanoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanoa/subscriptions","type":"User","url":"https://api.github.com/users/himanoa"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"4"},"buildId":"SFGyqIodbvgnQ6VR21ThY","assetPrefix":"/times-himanoa","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>